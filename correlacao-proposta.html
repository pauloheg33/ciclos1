<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Correla√ß√£o Proposta entre Habilidades CNCA, BNCC e SPAECE">
    <meta name="keywords" content="correla√ß√£o, habilidades, CNCA, BNCC, SPAECE, educa√ß√£o">
    <meta name="author" content="Sistema Educacional">
    
    <title>üîó Correla√ß√£o Proposta - Habilidades CNCA, BNCC e SPAECE</title>
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="correlacao-styles.css">
    
    <!-- PDF Generation Libraries -->
    <script src="https://unpkg.com/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
    <script src="https://unpkg.com/jspdf-autotable@3.5.31/dist/jspdf.plugin.autotable.min.js"></script>
    
    <script src="correlacao-script.js" defer></script>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="title-section">
                    <h1>üîó Correla√ß√£o Proposta de Habilidades</h1>
                    <p class="subtitle">Mapeamento entre CNCA, BNCC e SPAECE - 2025</p>
                </div>
                <div class="header-controls">
                    <button class="back-btn" onclick="window.location.href='index.html'" aria-label="Voltar ao dashboard principal">
                        ‚Üê Dashboard Principal
                    </button>
                    <button class="back-btn" onclick="window.location.href='analise-nova.html'" aria-label="Ir para an√°lise dos indicadores">
                        üìà An√°lise dos Indicadores
                    </button>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Filtros -->
            <aside class="sidebar" role="complementary" aria-label="Filtros de pesquisa">
                <div class="filters-section">
                    <h2>üéØ Filtros</h2>
                    
                    <div class="filter-group">
                        <label for="componente-filter">üìö Componente</label>
                        <select id="componente-filter" name="componente-filter">
                            <option value="">Todos os componentes</option>
                            <option value="Leitura">Leitura</option>
                            <option value="Matem√°tica">Matem√°tica</option>
                        </select>
                    </div>

                    <div class="filter-group">
                        <label for="ano-filter">üéì Ano Escolar</label>
                        <select id="ano-filter" name="ano-filter">
                            <option value="">Todos os anos</option>
                            <option value="2¬∫ Ano">2¬∫ Ano</option>
                            <option value="5¬∫ Ano">5¬∫ Ano</option>
                            <option value="9¬∫ Ano">9¬∫ Ano</option>
                        </select>
                    </div>

                    <div class="filter-group">
                        <label for="search-input">üîç Buscar habilidade</label>
                        <input type="text" id="search-input" placeholder="Digite c√≥digo ou descri√ß√£o..." />
                    </div>

                    <div class="stats-box">
                        <h3>üìä Estat√≠sticas</h3>
                        <div class="stat-item">
                            <span class="stat-label">Total de habilidades:</span>
                            <span class="stat-value" id="total-count">-</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Com correla√ß√£o SPAECE:</span>
                            <span class="stat-value" id="spaece-count">-</span>
                        </div>
                    </div>
                </div>
            </aside>

            <!-- Content Area -->
            <section class="content-area" role="main">
                <div class="intro-section">
                    <h2>üìã Sobre esta Correla√ß√£o</h2>
                    <p>Esta p√°gina apresenta a correla√ß√£o proposta entre as habilidades do <strong>CNCA (Ciclos CNCA)</strong>, 
                    <strong>BNCC (Base Nacional Comum Curricular)</strong> e <strong>SPAECE (Sistema Permanente de Avalia√ß√£o da Educa√ß√£o B√°sica do Cear√°)</strong>.</p>
                    
                    <div class="legend-box">
                        <h3>üè∑Ô∏è Legenda das Colunas</h3>
                        <div class="legend-grid">
                            <div class="legend-item cnca">
                                <span class="legend-color"></span>
                                <strong>Habilidade CNCA:</strong> C√≥digo e descri√ß√£o da habilidade nos Ciclos CNCA
                            </div>
                            <div class="legend-item bncc">
                                <span class="legend-color"></span>
                                <strong>Correla√ß√£o BNCC:</strong> C√≥digo da habilidade correspondente na BNCC
                            </div>
                            <div class="legend-item spaece">
                                <span class="legend-color"></span>
                                <strong>Correla√ß√£o SPAECE:</strong> Descri√ß√£o da habilidade equivalente no SPAECE
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tabela de Correla√ß√µes -->
                <div class="correlations-container">
                    <div class="table-header">
                        <h2>üìä Tabela de Correla√ß√µes</h2>
                        <div class="table-controls">
                            <button id="export-btn" class="export-btn">
                                üìÑ Exportar PDF
                            </button>
                        </div>
                    </div>

                    <div class="table-wrapper">
                        <table class="correlations-table" id="correlations-table">
                            <thead>
                                <tr>
                                    <th class="col-cnca">
                                        <div class="header-content">
                                            <span class="header-icon">üéØ</span>
                                            <div class="header-text">
                                                <strong>Habilidade CNCA</strong>
                                                <small>C√≥digo e Descri√ß√£o</small>
                                            </div>
                                        </div>
                                    </th>
                                    <th class="col-bncc">
                                        <div class="header-content">
                                            <span class="header-icon">üìö</span>
                                            <div class="header-text">
                                                <strong>Correla√ß√£o BNCC</strong>
                                                <small>C√≥digo da Habilidade</small>
                                            </div>
                                        </div>
                                    </th>
                                    <th class="col-spaece">
                                        <div class="header-content">
                                            <span class="header-icon">üéì</span>
                                            <div class="header-text">
                                                <strong>Correla√ß√£o SPAECE</strong>
                                                <small>Descri√ß√£o da Habilidade</small>
                                            </div>
                                        </div>
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="correlations-tbody">
                                <!-- Conte√∫do ser√° carregado via JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Se√ß√£o de an√°lise -->
                <div class="analysis-section">
                    <h2>üìà An√°lise da Correla√ß√£o</h2>
                    <div class="analysis-grid">
                        <div class="analysis-card">
                            <h3>üéØ Cobertura BNCC</h3>
                            <p>Percentual de habilidades CNCA que possuem correla√ß√£o direta com a BNCC.</p>
                            <div class="metric" id="bncc-coverage">-</div>
                        </div>
                        <div class="analysis-card">
                            <h3>üéì Cobertura SPAECE</h3>
                            <p>Percentual de habilidades CNCA que possuem correla√ß√£o com o SPAECE.</p>
                            <div class="metric" id="spaece-coverage">-</div>
                        </div>
                        <div class="analysis-card">
                            <h3>üìä Distribui√ß√£o por Componente</h3>
                            <p>An√°lise da distribui√ß√£o das correla√ß√µes por componente curricular.</p>
                            <div class="component-stats" id="component-stats">-</div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Modal de detalhes -->
    <div id="detail-modal" class="modal" style="display: none;">
        <div class="modal-backdrop"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modal-title">Detalhes da Habilidade</h2>
                <button class="modal-close" onclick="closeModal()">√ó</button>
            </div>
            <div class="modal-body" id="modal-body">
                <!-- Conte√∫do ser√° carregado via JavaScript -->
            </div>
        </div>
    </div>
</body>
</html>